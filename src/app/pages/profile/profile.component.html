<div class="profile-container" *ngIf="(userProfile$ | async) as profile; else loadingOrError">

    <h1 class="profile-title">Profil</h1>
  
    <div class="profile-pic-container">
      <img
        [src]="profile.profileImageUrl || defaultProfilePic"
        alt="Foto Profil {{ profile.username }}"
        class="profile-pic"
        (error)="onProfileImageError($event)">
        </div>
  
  
    <div class="post-count">
      {{ (postCount$ | async) ?? 0 }} Postingan
      </div>
  
    <div class="info-section">
      <div class="info-field">
        <label>Email</label>
        <div class="info-value">{{ (userEmail$ | async) ?? profile.email ?? 'N/A' }}</div>
      </div>
  
      <div class="info-field">
        <label>Username</label>
        <div class="info-value">{{ profile.username ?? 'N/A' }}</div>
      </div>
    </div>
  
    <div class="action-buttons">
      <button class="btn btn-edit" (click)="goToEditProfile()">Ubah Profil</button>
      <button class="btn btn-logout" (click)="logout()">Log Out</button>
    </div>
  
</div>
  
<ng-template #loadingOrError>
    <div class="loading-indicator initial-load">Memuat data profil...</div>
</ng-template>
  